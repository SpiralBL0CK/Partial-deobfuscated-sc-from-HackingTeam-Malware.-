package o;

import android.content.Context;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.nio.ByteBuffer;
import java.util.ArrayList;
import java.util.Date;
import java.util.TreeMap;
import java.util.Vector;

public final class SmbFile
{
  private static volatile SmbFile connection;
  public static final String count;
  private static Object log = new Object();
  private static String size;
  private static final String type;
  private Vector<String> attributes = new Vector();
  private int status = open();
  
  /* Error */
  static
  {
    // Byte code:
    //   0: goto +9 -> 9
    //   3: astore_0
    //   4: aload_0
    //   5: invokevirtual 25	java/lang/Throwable:getCause	()Ljava/lang/Throwable;
    //   8: athrow
    //   9: ldc 27
    //   11: invokestatic 33	o/Log:get	(Ljava/lang/String;)Ljava/lang/Class;
    //   14: ldc 35
    //   16: iconst_1
    //   17: anewarray 37	java/lang/Class
    //   20: dup
    //   21: iconst_0
    //   22: ldc 39
    //   24: aastore
    //   25: invokevirtual 43	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   28: aconst_null
    //   29: iconst_1
    //   30: anewarray 4	java/lang/Object
    //   33: dup
    //   34: iconst_0
    //   35: ldc 45
    //   37: aastore
    //   38: invokevirtual 51	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   41: checkcast 39	java/lang/String
    //   44: astore_0
    //   45: aload_0
    //   46: putstatic 53	o/SmbFile:size	Ljava/lang/String;
    //   49: goto +9 -> 58
    //   52: astore_0
    //   53: aload_0
    //   54: invokevirtual 25	java/lang/Throwable:getCause	()Ljava/lang/Throwable;
    //   57: athrow
    //   58: ldc 27
    //   60: invokestatic 33	o/Log:get	(Ljava/lang/String;)Ljava/lang/Class;
    //   63: ldc 55
    //   65: iconst_1
    //   66: anewarray 37	java/lang/Class
    //   69: dup
    //   70: iconst_0
    //   71: ldc 39
    //   73: aastore
    //   74: invokevirtual 43	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   77: aconst_null
    //   78: iconst_1
    //   79: anewarray 4	java/lang/Object
    //   82: dup
    //   83: iconst_0
    //   84: ldc 57
    //   86: aastore
    //   87: invokevirtual 51	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   90: pop
    //   91: goto +9 -> 100
    //   94: astore_0
    //   95: aload_0
    //   96: invokevirtual 25	java/lang/Throwable:getCause	()Ljava/lang/Throwable;
    //   99: athrow
    //   100: ldc 27
    //   102: invokestatic 33	o/Log:get	(Ljava/lang/String;)Ljava/lang/Class;
    //   105: ldc 59
    //   107: iconst_1
    //   108: anewarray 37	java/lang/Class
    //   111: dup
    //   112: iconst_0
    //   113: ldc 39
    //   115: aastore
    //   116: invokevirtual 43	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   119: aconst_null
    //   120: iconst_1
    //   121: anewarray 4	java/lang/Object
    //   124: dup
    //   125: iconst_0
    //   126: ldc 61
    //   128: aastore
    //   129: invokevirtual 51	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   132: pop
    //   133: goto +9 -> 142
    //   136: astore_0
    //   137: aload_0
    //   138: invokevirtual 25	java/lang/Throwable:getCause	()Ljava/lang/Throwable;
    //   141: athrow
    //   142: ldc 27
    //   144: invokestatic 33	o/Log:get	(Ljava/lang/String;)Ljava/lang/Class;
    //   147: ldc 63
    //   149: iconst_1
    //   150: anewarray 37	java/lang/Class
    //   153: dup
    //   154: iconst_0
    //   155: ldc 39
    //   157: aastore
    //   158: invokevirtual 43	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   161: aconst_null
    //   162: iconst_1
    //   163: anewarray 4	java/lang/Object
    //   166: dup
    //   167: iconst_0
    //   168: ldc 65
    //   170: aastore
    //   171: invokevirtual 51	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   174: checkcast 39	java/lang/String
    //   177: astore_0
    //   178: aload_0
    //   179: putstatic 67	o/SmbFile:type	Ljava/lang/String;
    //   182: goto +9 -> 191
    //   185: astore_0
    //   186: aload_0
    //   187: invokevirtual 25	java/lang/Throwable:getCause	()Ljava/lang/Throwable;
    //   190: athrow
    //   191: ldc 27
    //   193: invokestatic 33	o/Log:get	(Ljava/lang/String;)Ljava/lang/Class;
    //   196: ldc 69
    //   198: iconst_1
    //   199: anewarray 37	java/lang/Class
    //   202: dup
    //   203: iconst_0
    //   204: ldc 39
    //   206: aastore
    //   207: invokevirtual 43	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   210: aconst_null
    //   211: iconst_1
    //   212: anewarray 4	java/lang/Object
    //   215: dup
    //   216: iconst_0
    //   217: ldc 71
    //   219: aastore
    //   220: invokevirtual 51	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   223: checkcast 39	java/lang/String
    //   226: astore_0
    //   227: aload_0
    //   228: putstatic 73	o/SmbFile:count	Ljava/lang/String;
    //   231: new 4	java/lang/Object
    //   234: dup
    //   235: invokespecial 76	java/lang/Object:<init>	()V
    //   238: putstatic 78	o/SmbFile:log	Ljava/lang/Object;
    //   241: return
    // Local variable table:
    //   start	length	slot	name	signature
    //   3	2	0	localThrowable1	Throwable
    //   44	2	0	str1	String
    //   52	2	0	localThrowable2	Throwable
    //   94	2	0	localThrowable3	Throwable
    //   136	2	0	localThrowable4	Throwable
    //   177	2	0	str2	String
    //   185	2	0	localThrowable5	Throwable
    //   226	2	0	str3	String
    // Exception table:
    //   from	to	target	type
    //   9	45	3	java/lang/Throwable
    //   58	91	52	java/lang/Throwable
    //   100	133	94	java/lang/Throwable
    //   142	178	136	java/lang/Throwable
    //   191	227	185	java/lang/Throwable
  }
  
  private SmbFile()
  {
    write();
  }
  
  public static SmbFile close()
  {
    if (connection == null)
    {
      Object localObject = log;
      try
      {
        if (connection == null) {
          connection = new SmbFile();
        }
      }
      catch (Throwable localThrowable)
      {
        throw localThrowable;
      }
    }
    return connection;
  }
  
  public static void close(String paramString)
  {
    paramString = new File(paramString);
    if (file.exists()) {
      file.delete();
    }
  }
  
  private int delete(java.io.File paramFile, int paramInt)
  {
    int i = 0;
    int m = 0;
    int j = 0;
    int k = m;
    try
    {
      boolean bool = paramFile.isDirectory();
      if (bool)
      {
        k = m;
        java.io.File[] arrayOfFile = paramFile.listFiles();
        int n = arrayOfFile.length;
        m = 0;
        for (;;)
        {
          i = j;
          if (m >= n) {
            break;
          }
          java.io.File localFile = arrayOfFile[m];
          k = j;
          i = delete(localFile, paramInt - j);
          j += i;
          m += 1;
        }
      }
      k = i;
      bool = paramFile.delete();
      paramInt = i;
      if (bool) {
        paramInt = i + 1;
      }
      return paramInt;
    }
    catch (Exception paramFile) {}
    return k;
  }
  
  private static String getType(String paramString)
  {
    return FieldInfo.parseFeed(paramString, JSONObject.get().getString()[0], false);
  }
  
  public static Vector list(String paramString)
  {
    Vector localVector = new Vector();
    try
    {
      Object localObject = new java.io.File(paramString);
      boolean bool = ((java.io.File)localObject).isDirectory();
      if (bool)
      {
        localObject = ((java.io.File)localObject).list();
        int j = localObject.length;
        int i = 0;
        while (i < j)
        {
          String str = localObject[i];
          bool = new java.io.File(paramString + str).isDirectory();
          if (bool) {
            localVector.addElement(str + "/");
          }
          i += 1;
        }
      }
      return localVector;
    }
    catch (Exception paramString) {}
    return localVector;
  }
  
  private int open()
  {
    try
    {
      localObject1 = JSONArray.getContext();
      j = 0;
      localObject2 = type;
      i = j;
    }
    catch (Throwable localThrowable)
    {
      Object localObject1;
      int j;
      Object localObject2;
      int i;
      label53:
      throw localThrowable;
    }
    try
    {
      localObject1 = ((Context)localObject1).openFileInput((String)localObject2);
      localObject2 = new byte[4];
      i = j;
      ((FileInputStream)localObject1).read((byte[])localObject2);
      i = j;
      j = Method.get((byte[])localObject2, 0);
      i = j;
      ((FileInputStream)localObject1).close();
      i = j;
    }
    catch (IOException localIOException)
    {
      break label53;
    }
    return i;
  }
  
  private static String put(String paramString)
  {
    return FieldInfo.parseFeed(paramString, JSONObject.get().getString()[0], true);
  }
  
  private int read()
  {
    try
    {
      status += 1;
      localObject1 = JSONArray.getContext();
      localObject2 = type;
    }
    catch (Throwable localThrowable)
    {
      Object localObject1;
      Object localObject2;
      int i;
      Object localObject3;
      label71:
      throw localThrowable;
    }
    try
    {
      localObject1 = ((Context)localObject1).openFileOutput((String)localObject2, 0);
      i = status;
      localObject2 = new byte[4];
      localObject3 = new System((byte[])localObject2, 0, 4);
      localObject3 = this$0;
      ((ByteBuffer)localObject3).putInt(i);
      ((FileOutputStream)localObject1).write((byte[])localObject2);
      ((FileOutputStream)localObject1).close();
    }
    catch (IOException localIOException)
    {
      break label71;
    }
    i = status;
    return i;
  }
  
  public static String[] read(String paramString1, String paramString2)
  {
    TreeMap localTreeMap = new TreeMap();
    try
    {
      try
      {
        paramString1 = new java.io.File(paramString1 + paramString2);
        paramString2 = paramString1.list();
        int k = paramString2.length;
        int i = 0;
        while (i < k)
        {
          String str = paramString2[i];
          Object localObject = size;
          boolean bool = str.endsWith(put((String)localObject));
          if (bool)
          {
            localTreeMap.put(getType(str), str);
          }
          else
          {
            localObject = count;
            bool = str.endsWith((String)localObject);
            if (bool)
            {
              localObject = new java.io.File(paramString1, str);
              long l1 = new Date().getTime();
              long l2 = ((java.io.File)localObject).lastModified();
              int j;
              if (l1 - l2 < 86400000L) {
                j = 1;
              } else {
                j = 0;
              }
              if (j != 0) {}
            }
            else
            {
              new java.io.File(paramString1, str).delete();
            }
          }
          i += 1;
        }
      }
      catch (Throwable paramString1)
      {
        throw paramString1;
      }
    }
    catch (Exception paramString1)
    {
      for (;;) {}
    }
    return (String[])new ArrayList(localTreeMap.values()).toArray(new String[0]);
  }
  
  private static void write()
  {
    String str1 = Logger.name + Logger.value;
    Vector localVector = list(str1);
    int k = localVector.size();
    int i = 0;
    while (i < k)
    {
      Object localObject1 = (String)localVector.elementAt(i);
      try
      {
        try
        {
          localObject1 = new java.io.File(str1 + (String)localObject1);
          String[] arrayOfString = ((java.io.File)localObject1).list();
          int m = arrayOfString.length;
          int j = 0;
          while (j < m)
          {
            Object localObject2 = arrayOfString[j];
            String str2 = count;
            boolean bool = ((String)localObject2).endsWith(str2);
            if (bool)
            {
              localObject2 = new File(((java.io.File)localObject1).getPath(), (String)localObject2);
              str2 = count;
              ((File)localObject2).write(str2);
            }
            j += 1;
          }
        }
        catch (Throwable localThrowable)
        {
          throw localThrowable;
        }
      }
      catch (Exception localException)
      {
        for (;;) {}
      }
      i += 1;
    }
  }
  
  public final int delete()
  {
    try
    {
      int i = delete(new java.io.File(Logger.name), java.lang.Integer.MAX_VALUE);
      return i;
    }
    catch (Throwable localThrowable)
    {
      throw localThrowable;
    }
  }
  
  /* Error */
  public final Label read(Buffer paramBuffer, String paramString)
  {
    // Byte code:
    //   0: aload_0
    //   1: monitorenter
    //   2: aload_1
    //   3: getfield 300	o/Buffer:data	Ljava/util/Date;
    //   6: astore 9
    //   8: aload_0
    //   9: invokespecial 302	o/SmbFile:read	()I
    //   12: istore_3
    //   13: new 155	java/lang/StringBuilder
    //   16: dup
    //   17: invokespecial 156	java/lang/StringBuilder:<init>	()V
    //   20: getstatic 273	o/Logger:name	Ljava/lang/String;
    //   23: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   26: getstatic 276	o/Logger:value	Ljava/lang/String;
    //   29: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   32: invokevirtual 164	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   35: astore_1
    //   36: new 155	java/lang/StringBuilder
    //   39: dup
    //   40: invokespecial 156	java/lang/StringBuilder:<init>	()V
    //   43: astore 8
    //   45: goto +9 -> 54
    //   48: astore_1
    //   49: aload_1
    //   50: invokevirtual 25	java/lang/Throwable:getCause	()Ljava/lang/Throwable;
    //   53: athrow
    //   54: ldc 27
    //   56: invokestatic 33	o/Log:get	(Ljava/lang/String;)Ljava/lang/Class;
    //   59: ldc_w 304
    //   62: iconst_1
    //   63: anewarray 37	java/lang/Class
    //   66: dup
    //   67: iconst_0
    //   68: ldc 39
    //   70: aastore
    //   71: invokevirtual 43	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   74: aconst_null
    //   75: iconst_1
    //   76: anewarray 4	java/lang/Object
    //   79: dup
    //   80: iconst_0
    //   81: ldc_w 306
    //   84: aastore
    //   85: invokevirtual 51	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   88: checkcast 39	java/lang/String
    //   91: astore 10
    //   93: aload 8
    //   95: aload 10
    //   97: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   100: iload_3
    //   101: sipush 500
    //   104: idiv
    //   105: invokevirtual 309	java/lang/StringBuilder:append	(I)Ljava/lang/StringBuilder;
    //   108: invokevirtual 164	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   111: astore 8
    //   113: goto +9 -> 122
    //   116: astore_1
    //   117: aload_1
    //   118: invokevirtual 25	java/lang/Throwable:getCause	()Ljava/lang/Throwable;
    //   121: athrow
    //   122: ldc 27
    //   124: invokestatic 33	o/Log:get	(Ljava/lang/String;)Ljava/lang/Class;
    //   127: ldc_w 311
    //   130: iconst_1
    //   131: anewarray 37	java/lang/Class
    //   134: dup
    //   135: iconst_0
    //   136: ldc 39
    //   138: aastore
    //   139: invokevirtual 43	java/lang/Class:getMethod	(Ljava/lang/String;[Ljava/lang/Class;)Ljava/lang/reflect/Method;
    //   142: aconst_null
    //   143: iconst_1
    //   144: anewarray 4	java/lang/Object
    //   147: dup
    //   148: iconst_0
    //   149: ldc_w 313
    //   152: aastore
    //   153: invokevirtual 51	java/lang/reflect/Method:invoke	(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
    //   156: checkcast 39	java/lang/String
    //   159: astore 10
    //   161: iload_3
    //   162: sipush 10000
    //   165: irem
    //   166: i2l
    //   167: invokestatic 318	java/lang/Long:toString	(J)Ljava/lang/String;
    //   170: astore 11
    //   172: aload 10
    //   174: invokevirtual 321	java/lang/String:length	()I
    //   177: istore 4
    //   179: aload 11
    //   181: invokevirtual 321	java/lang/String:length	()I
    //   184: istore 5
    //   186: new 155	java/lang/StringBuilder
    //   189: dup
    //   190: invokespecial 156	java/lang/StringBuilder:<init>	()V
    //   193: aload 10
    //   195: iconst_0
    //   196: iload 4
    //   198: iload 5
    //   200: isub
    //   201: invokevirtual 325	java/lang/String:substring	(II)Ljava/lang/String;
    //   204: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   207: aload 11
    //   209: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   212: invokevirtual 164	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   215: astore 10
    //   217: new 155	java/lang/StringBuilder
    //   220: dup
    //   221: invokespecial 156	java/lang/StringBuilder:<init>	()V
    //   224: aload 10
    //   226: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   229: aload_2
    //   230: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   233: astore_2
    //   234: aload 9
    //   236: invokevirtual 248	java/util/Date:getTime	()J
    //   239: lstore 6
    //   241: lload 6
    //   243: ldc2_w 326
    //   246: lrem
    //   247: l2i
    //   248: istore 4
    //   250: lload 6
    //   252: ldc2_w 326
    //   255: ldiv
    //   256: l2i
    //   257: istore 5
    //   259: aload_2
    //   260: new 155	java/lang/StringBuilder
    //   263: dup
    //   264: invokespecial 156	java/lang/StringBuilder:<init>	()V
    //   267: iload 4
    //   269: invokestatic 333	java/lang/Integer:toHexString	(I)Ljava/lang/String;
    //   272: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   275: iload 5
    //   277: invokestatic 333	java/lang/Integer:toHexString	(I)Ljava/lang/String;
    //   280: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   283: invokevirtual 164	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   286: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   289: invokevirtual 164	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   292: astore_2
    //   293: new 155	java/lang/StringBuilder
    //   296: dup
    //   297: invokespecial 156	java/lang/StringBuilder:<init>	()V
    //   300: aload_2
    //   301: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   304: getstatic 53	o/SmbFile:size	Ljava/lang/String;
    //   307: invokevirtual 160	java/lang/StringBuilder:append	(Ljava/lang/String;)Ljava/lang/StringBuilder;
    //   310: invokevirtual 164	java/lang/StringBuilder:toString	()Ljava/lang/String;
    //   313: invokestatic 229	o/SmbFile:put	(Ljava/lang/String;)Ljava/lang/String;
    //   316: astore 9
    //   318: new 335	o/Label
    //   321: dup
    //   322: invokespecial 336	o/Label:<init>	()V
    //   325: astore 10
    //   327: aload 10
    //   329: iload_3
    //   330: putfield 338	o/Label:count	I
    //   333: aload 10
    //   335: aload_1
    //   336: putfield 341	o/Label:s	Ljava/lang/String;
    //   339: aload 10
    //   341: aload 8
    //   343: putfield 344	o/Label:i	Ljava/lang/String;
    //   346: aload 10
    //   348: aload 9
    //   350: putfield 347	o/Label:e	Ljava/lang/String;
    //   353: aload 10
    //   355: aload_2
    //   356: putfield 350	o/Label:a	Ljava/lang/String;
    //   359: aload_0
    //   360: monitorexit
    //   361: aload 10
    //   363: areturn
    //   364: astore_1
    //   365: aload_0
    //   366: monitorexit
    //   367: aload_1
    //   368: athrow
    // Local variable table:
    //   start	length	slot	name	signature
    //   0	369	0	this	SmbFile
    //   0	369	1	paramBuffer	Buffer
    //   0	369	2	paramString	String
    //   12	318	3	i	int
    //   177	91	4	j	int
    //   184	92	5	k	int
    //   239	12	6	l	long
    //   43	299	8	localObject1	Object
    //   6	343	9	localObject2	Object
    //   91	271	10	localObject3	Object
    //   170	38	11	str	String
    // Exception table:
    //   from	to	target	type
    //   54	93	48	java/lang/Throwable
    //   122	161	116	java/lang/Throwable
    //   2	45	364	java/lang/Throwable
    //   49	54	364	java/lang/Throwable
    //   93	113	364	java/lang/Throwable
    //   117	122	364	java/lang/Throwable
    //   161	241	364	java/lang/Throwable
    //   250	361	364	java/lang/Throwable
  }
}
