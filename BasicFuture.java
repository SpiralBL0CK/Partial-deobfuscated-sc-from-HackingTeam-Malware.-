package o;

import android.content.Context;
import android.net.ConnectivityManager;
import android.net.wifi.WifiManager;

public final class BasicFuture
  extends FutureTask
{
  private boolean cancelled;
  private final ConnectivityManager index = (ConnectivityManager)JSONArray.getContext().getSystemService("connectivity");
  private boolean result;
  private WifiManager this$0 = (WifiManager)JSONArray.getContext().getSystemService("wifi");
  
  public BasicFuture(String paramString, boolean paramBoolean)
  {
    super(paramString);
    result = paramBoolean;
  }
  
  public final void cancel()
  {
    super.cancel();
    if (cancelled)
    {
      this$0.setWifiEnabled(false);
      cancelled = false;
    }
  }
  
  public final void execute()
  {
    if (!result) {
      return;
    }
    if (this$0.getWifiState() != 3)
    {
      if (this$0.getWifiState() == 2) {
        return;
      }
      cancelled = this$0.setWifiEnabled(true);
      int i = 0;
      while (i < 20)
      {
        Util.read();
        int j;
        if (Util.build())
        {
          j = 1;
        }
        else
        {
          boolean bool = JSONArray.c;
          j = bool;
          if (bool)
          {
            index.setNetworkPreference(1);
            j = bool;
          }
        }
        if (j != 0) {
          break;
        }
        Utils.sleep(1000);
        i += 1;
      }
    }
  }
  
  public final boolean get()
  {
    Util.read();
    if (Util.build()) {
      return true;
    }
    boolean bool = JSONArray.c;
    if (bool) {
      index.setNetworkPreference(1);
    }
    return bool;
  }
}
