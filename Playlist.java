package o;

import android.database.Cursor;
import java.util.ArrayList;
import java.util.List;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;
import org.json.JSONTokener;

final class Playlist
  extends AsyncTask
{
  Playlist(Page paramPage, String[] paramArrayOfString, String paramString1, String paramString2, ArrayList paramArrayList)
  {
    super(paramArrayOfString, paramString1);
  }
  
  public final long doInBackground(Cursor paramCursor)
  {
    Session localSession = new Session();
    user = mType;
    name = paramCursor.getString(0);
    Object localObject1 = paramCursor.getString(1);
    dataLength = paramCursor.getLong(2);
    try
    {
      paramCursor = new JSONTokener((String)localObject1).nextValue();
      paramCursor = (JSONArray)paramCursor;
      int i = paramCursor.length();
      localObject1 = new BoundingBox[i];
      i = 0;
      for (;;)
      {
        int j = paramCursor.length();
        if (i >= j) {
          break;
        }
        Object localObject2 = paramCursor.get(i);
        localObject2 = (JSONObject)localObject2;
        Object localObject3 = ((JSONObject)localObject2).getString("email").split("@");
        localObject3 = localObject3[0];
        localObject2 = ((JSONObject)localObject2).getString("name");
        localObject2 = new BoundingBox((String)localObject3, "", (String)localObject2, "Id: " + (String)localObject3);
        localObject1[i] = localObject2;
        i += 1;
      }
      data = ((BoundingBox[])localObject1);
    }
    catch (JSONException paramCursor)
    {
      paramCursor.printStackTrace();
    }
    mQueue.add(localSession);
    return 0L;
  }
}
